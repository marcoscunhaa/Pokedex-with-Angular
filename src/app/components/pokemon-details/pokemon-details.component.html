@if (pokemon) {

<div
  class="flex flex-col w-full max-w-[500px] mx-auto text-black px-3 sm:px-4 overflow-x-hidden box-border">

  <!-- ID -->
  <span class="text-sm text-gray-500 font-semibold mt-2">
    #{{ pokemon.id }}
  </span>

  <!-- Nome -->
  <h2 class="fredoka-one text-xl text-center font-semibold capitalize mt-1">
    {{ pokemon.name }}
  </h2>

  <!-- Sprite -->
  <div class="flex justify-center mt-3">
    <img [src]="'data:image/png;base64,' + pokemon.spriteBase64"
         [alt]="pokemon.name"
         class="h-24 w-24 sm:h-28 sm:w-28 object-contain" />
  </div>

  <!-- Tipos -->
  <div class="flex flex-wrap justify-center gap-2 mt-3">
    @for (type of pokemon.type; track type) {
      <span [ngClass]="getTypeColor(type)"
            class="font-medium text-xs sm:text-sm capitalize px-3 py-1 rounded-full bg-white shadow border">
        {{ type }}
      </span>
    } @empty {
      <span>No types</span>
    }
  </div>

  <!-- Infos -->
  <div class="mt-4 text-sm text-gray-700 space-y-3">

    <p class="leading-relaxed text-justify px-1">
      <strong>Description:</strong> {{ pokemon.description }}
    </p>

    <div class="px-1">
      <p><strong>Height:</strong> {{ pokemon.height }} m</p>
      <p><strong>Weight:</strong> {{ pokemon.weight }} kg</p>
    </div>

    <!-- Abilities -->
    <div>
      <strong>Abilities:</strong>
      <div class="flex flex-wrap gap-2 mt-2">
        @for (ability of pokemon.ability; track ability) {
          <span class="bg-gray-200 text-gray-700 px-3 py-1 rounded-full capitalize montserrat text-xs sm:text-sm">
            {{ ability }}
          </span>
        } @empty {
          <span>No abilities</span>
        }
      </div>
    </div>

    <!-- Moves -->
    <div class="mt-3">
      <strong>Moves:</strong>
      <div class="flex flex-wrap gap-2 mt-2">
        @for (move of getVisibleMoves(); track move) {
          <span class="bg-red-300 text-gray-700 px-3 py-1 rounded-full text-xs capitalize montserrat">
            {{ move }}
          </span>
        } @empty {
          <span>No moves</span>
        }
      </div>

      <div class="mt-2 text-center">
        <button (click)="showAllMoves = !showAllMoves"
                class="text-gray-700 text-sm hover:text-blue-700">
          {{ showAllMoves ? 'Show less...' : 'Show more...' }}
        </button>
      </div>
    </div>

  </div>

  <!-- Stats -->
  <div class="mt-5 px-1">
    <h3 class="text-md text-center font-semibold mb-2">
      Base Stats
    </h3>

    @if (pokemon.stats) {
      <div class="space-y-3">
        @for (stat of statKeys; track stat) {
          <div>
            <div class="flex justify-between text-xs sm:text-sm">
              <span class="capitalize">{{ stat.replace('-', ' ') }}</span>
              <span>{{ pokemon.stats[stat] }}</span>
            </div>

            <div class="w-full bg-gray-200 rounded-full h-3">
              <div class="h-3 rounded-full"
                   [ngStyle]="{
                     width: getStatWidth(pokemon.stats[stat]),
                     backgroundColor: getStatColor(stat)
                   }">
              </div>
            </div>
          </div>
        }
      </div>
    } @else {
      <p class="text-center text-gray-500">No stats available</p>
    }
  </div>

  <!-- Evoluções -->
  <div class="mt-6 mb-10">
    <h3 class="text-center font-semibold mb-3">
      Evolution
    </h3>

    <div class="flex items-center justify-center gap-3 flex-wrap">

      @for (evo of evolutionSprites; track evo.name) {
        <div class="flex flex-col items-center cursor-pointer hover:scale-110 transition"
             (click)="onEvolutionClick(evo.id)">
          <img [src]="'data:image/png;base64,' + evo.spriteBase64"
               [alt]="evo.name"
               class="h-14 w-14 object-contain" />
          <p class="text-xs capitalize mt-1">
            {{ evo.name }}
          </p>
        </div>

        @if (evo !== evolutionSprites[evolutionSprites.length - 1]) {
          <span class="text-lg text-gray-500">→</span>
        }
      } @empty {
        <p class="text-center text-gray-500">No evolutions</p>
      }

    </div>
  </div>

</div>

}
